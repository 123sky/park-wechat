extends ../layout

append css
    link(rel='stylesheet',href='/components/jquery-upload-file/css/uploadfile.css')
    
block content
    h2.page-header= information._id?'修改公告信息':'保存公告信息'

    form.vertical-form#info-form
        div.form-group.hide
            label(for="title") ID
            input.form-control(name="_id", id="_id", value=information.id)

        div.form-group
            label(for="title") 公告标题(必填)：
            input.form-control(name="title", id="title",required, placeholder="请输入公告标题...", value=information.title)
        div.form-group
            label(for="info") 简介(必填)：
            textarea.form-control(name="info", id="info",required,mainRequire,data-rule-maxlength=5)= information.info
            input.form-control(name="title", id="title",required, placeholder="请输入公告标题...", value=information.title)

        div.form-group.image-part
            label(for="image") 图片：
            #image
            #img-preview
                if !!information.images
                    each image in information.images
                        .image-item(data-id=image.id)
                            img(src='../../../uploads/image/'+image.filename)
                            .image-info
                                span= image.originalname
                                a(href='javascript:;',data-destination=image.destination,data-filename=image.filename,data-id=image.id,class='remove-image',title='移除')
                                    span.fa.fa-times-circle 移除
        div.form-group
            label(for="content") 内容(必填)：
            textarea.form-control(name="content", id="content", required,data-rule-maxlength=10)= information.content

        div.form-group
            label(for="published") 是否发布：
            input(name="published", id="published", type="checkbox", checked=information.published)

        div.form-group
            a.btn.btn-info(id='submit-btn',href="javascript:;")= information._id?'修改公告信息':'保存公告信息'

block scripts    
    script(src="/components/jquery-upload-file/js/jquery.form.js")
    script(src="/components/jquery-upload-file/js/jquery.uploadfile.js")
    script(src="/js/lib/ajaxUtil.js")
    script(src='/js/lib/urlData.js')
    script(src="/js/admin/information.js")
